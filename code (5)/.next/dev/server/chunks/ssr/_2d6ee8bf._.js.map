{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/hooks/use-real-time-telemetry.ts"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { database, isConfigured } from \"@/lib/firebase\"\nimport { ref, onValue, off } from \"firebase/database\"\n\nexport interface TelemetryDataPoint {\n  timestamp: number\n  speed: number\n  temperature: number\n  fuelLevel: number\n  latitude: number\n  longitude: number\n  rpms: number\n  acceleration: number\n}\n\nexport function useRealTimeTelemetry(deviceId: string) {\n  const [telemetryHistory, setTelemetryHistory] = useState<TelemetryDataPoint[]>([])\n  const [currentTelemetry, setCurrentTelemetry] = useState<TelemetryDataPoint | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (!isConfigured || !database) {\n      setError(\"Firebase is not configured.\")\n      setLoading(false)\n      return\n    }\n\n    if (!deviceId) return\n\n    const telemetryRef = ref(database, `telemetry_history/${deviceId}`)\n\n    const unsubscribe = onValue(\n      telemetryRef,\n      (snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.val()\n          const points: TelemetryDataPoint[] = Object.values(data)\n            .sort((a: any, b: any) => a.timestamp - b.timestamp)\n            .slice(-60)\n\n          setTelemetryHistory(points)\n          if (points.length > 0) {\n            setCurrentTelemetry(points[points.length - 1])\n          }\n        }\n        setLoading(false)\n      },\n      (error) => {\n        setError(error.message)\n        setLoading(false)\n      },\n    )\n\n    return () => off(telemetryRef, \"value\", unsubscribe)\n  }, [deviceId])\n\n  return { telemetryHistory, currentTelemetry, loading, error }\n}\n\nexport function useAllDevicesTelemetry() {\n  const [allTelemetry, setAllTelemetry] = useState<Record<string, TelemetryDataPoint>>({})\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (!isConfigured || !database) {\n      setError(\"Firebase is not configured.\")\n      setLoading(false)\n      return\n    }\n\n    const vehiclesRef = ref(database, \"vehicles\")\n\n    const unsubscribe = onValue(\n      vehiclesRef,\n      (snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.val()\n          const telemetry: Record<string, TelemetryDataPoint> = {}\n\n          Object.entries(data).forEach(([key, value]: any) => {\n            if (value.telemetry) {\n              telemetry[key] = value.telemetry\n            }\n          })\n\n          setAllTelemetry(telemetry)\n          setError(null)\n        }\n        setLoading(false)\n      },\n      (error) => {\n        setError(error.message)\n        setLoading(false)\n      },\n    )\n\n    return () => off(vehiclesRef, \"value\", unsubscribe)\n  }, [])\n\n  return { allTelemetry, loading, error }\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;AAiBO,SAAS,qBAAqB,QAAgB;IACnD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAuB,EAAE;IACjF,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAA4B;IACpF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,+HAAY,IAAI,CAAC,2HAAQ,EAAE;YAC9B,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,CAAC,UAAU;QAEf,MAAM,eAAe,IAAA,4LAAG,EAAC,2HAAQ,EAAE,CAAC,kBAAkB,EAAE,UAAU;QAElE,MAAM,cAAc,IAAA,gMAAO,EACzB,cACA,CAAC;YACC,IAAI,SAAS,MAAM,IAAI;gBACrB,MAAM,OAAO,SAAS,GAAG;gBACzB,MAAM,SAA+B,OAAO,MAAM,CAAC,MAChD,IAAI,CAAC,CAAC,GAAQ,IAAW,EAAE,SAAS,GAAG,EAAE,SAAS,EAClD,KAAK,CAAC,CAAC;gBAEV,oBAAoB;gBACpB,IAAI,OAAO,MAAM,GAAG,GAAG;oBACrB,oBAAoB,MAAM,CAAC,OAAO,MAAM,GAAG,EAAE;gBAC/C;YACF;YACA,WAAW;QACb,GACA,CAAC;YACC,SAAS,MAAM,OAAO;YACtB,WAAW;QACb;QAGF,OAAO,IAAM,IAAA,4LAAG,EAAC,cAAc,SAAS;IAC1C,GAAG;QAAC;KAAS;IAEb,OAAO;QAAE;QAAkB;QAAkB;QAAS;IAAM;AAC9D;AAEO,SAAS;IACd,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAqC,CAAC;IACtF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,+HAAY,IAAI,CAAC,2HAAQ,EAAE;YAC9B,SAAS;YACT,WAAW;YACX;QACF;QAEA,MAAM,cAAc,IAAA,4LAAG,EAAC,2HAAQ,EAAE;QAElC,MAAM,cAAc,IAAA,gMAAO,EACzB,aACA,CAAC;YACC,IAAI,SAAS,MAAM,IAAI;gBACrB,MAAM,OAAO,SAAS,GAAG;gBACzB,MAAM,YAAgD,CAAC;gBAEvD,OAAO,OAAO,CAAC,MAAM,OAAO,CAAC,CAAC,CAAC,KAAK,MAAW;oBAC7C,IAAI,MAAM,SAAS,EAAE;wBACnB,SAAS,CAAC,IAAI,GAAG,MAAM,SAAS;oBAClC;gBACF;gBAEA,gBAAgB;gBAChB,SAAS;YACX;YACA,WAAW;QACb,GACA,CAAC;YACC,SAAS,MAAM,OAAO;YACtB,WAAW;QACb;QAGF,OAAO,IAAM,IAAA,4LAAG,EAAC,aAAa,SAAS;IACzC,GAAG,EAAE;IAEL,OAAO;QAAE;QAAc;QAAS;IAAM;AACxC","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/hooks/use-firebase-alerts.ts"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { database, isConfigured } from \"@/lib/firebase\"\nimport { ref, onValue, query, limitToLast } from \"firebase/database\"\n\nexport interface Alert {\n  id: string\n  deviceId: string\n  driverId: string\n  alertType: string\n  severity: \"low\" | \"medium\" | \"high\"\n  message: string\n  timestamp: number\n  resolved: boolean\n}\n\nexport function useActiveAlerts() {\n  const [alerts, setAlerts] = useState<Alert[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (!isConfigured || !database) {\n      setError(\"Firebase is not configured.\")\n      setLoading(false)\n      return\n    }\n\n    const alertsRef = query(ref(database, \"alerts\"), limitToLast(50))\n\n    const unsubscribe = onValue(\n      alertsRef,\n      (snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.val()\n          const alertList: Alert[] = Object.values(data)\n            .filter((alert: any) => !alert.resolved)\n            .sort((a: any, b: any) => b.timestamp - a.timestamp)\n\n          setAlerts(alertList)\n          setError(null)\n        }\n        setLoading(false)\n      },\n      (error) => {\n        setError(error.message)\n        setLoading(false)\n      },\n    )\n\n    return () => unsubscribe()\n  }, [])\n\n  return { alerts, loading, error }\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAJA;;;;AAiBO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,+HAAY,IAAI,CAAC,2HAAQ,EAAE;YAC9B,SAAS;YACT,WAAW;YACX;QACF;QAEA,MAAM,YAAY,IAAA,8LAAK,EAAC,IAAA,4LAAG,EAAC,2HAAQ,EAAE,WAAW,IAAA,oMAAW,EAAC;QAE7D,MAAM,cAAc,IAAA,gMAAO,EACzB,WACA,CAAC;YACC,IAAI,SAAS,MAAM,IAAI;gBACrB,MAAM,OAAO,SAAS,GAAG;gBACzB,MAAM,YAAqB,OAAO,MAAM,CAAC,MACtC,MAAM,CAAC,CAAC,QAAe,CAAC,MAAM,QAAQ,EACtC,IAAI,CAAC,CAAC,GAAQ,IAAW,EAAE,SAAS,GAAG,EAAE,SAAS;gBAErD,UAAU;gBACV,SAAS;YACX;YACA,WAAW;QACb,GACA,CAAC;YACC,SAAS,MAAM,OAAO;YACtB,WAAW;QACb;QAGF,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,OAAO;QAAE;QAAQ;QAAS;IAAM;AAClC","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/lib/websocket-manager.ts"],"sourcesContent":["class WebSocketManager {\n  private ws: WebSocket | null = null\n  private subscribers: Map<string, Set<Function>> = new Map()\n  private reconnectAttempts = 0\n  private maxReconnectAttempts = 5\n  private reconnectDelay = 3000\n\n  connect(url: string) {\n    try {\n      this.ws = new WebSocket(url)\n\n      this.ws.onopen = () => {\n        console.log(\"[v0] WebSocket connected\")\n        this.reconnectAttempts = 0\n      }\n\n      this.ws.onmessage = (event) => {\n        const data = JSON.parse(event.data)\n        this.notifySubscribers(data.type, data.payload)\n      }\n\n      this.ws.onerror = (error) => {\n        console.error(\"[v0] WebSocket error:\", error)\n      }\n\n      this.ws.onclose = () => {\n        this.attemptReconnect(url)\n      }\n    } catch (error) {\n      console.error(\"[v0] WebSocket connection failed:\", error)\n    }\n  }\n\n  private attemptReconnect(url: string) {\n    if (this.reconnectAttempts < this.maxReconnectAttempts) {\n      this.reconnectAttempts++\n      console.log(`[v0] Attempting reconnection (${this.reconnectAttempts}/${this.maxReconnectAttempts})`)\n      setTimeout(() => this.connect(url), this.reconnectDelay)\n    }\n  }\n\n  subscribe(eventType: string, callback: Function) {\n    if (!this.subscribers.has(eventType)) {\n      this.subscribers.set(eventType, new Set())\n    }\n    this.subscribers.get(eventType)!.add(callback)\n\n    return () => {\n      this.subscribers.get(eventType)?.delete(callback)\n    }\n  }\n\n  private notifySubscribers(eventType: string, payload: any) {\n    const callbacks = this.subscribers.get(eventType)\n    if (callbacks) {\n      callbacks.forEach((callback) => callback(payload))\n    }\n  }\n\n  send(data: any) {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(data))\n    }\n  }\n\n  disconnect() {\n    if (this.ws) {\n      this.ws.close()\n      this.ws = null\n    }\n  }\n}\n\nexport const wsManager = new WebSocketManager()\n"],"names":[],"mappings":";;;;AAAA,MAAM;IACI,KAAuB,KAAI;IAC3B,cAA0C,IAAI,MAAK;IACnD,oBAAoB,EAAC;IACrB,uBAAuB,EAAC;IACxB,iBAAiB,KAAI;IAE7B,QAAQ,GAAW,EAAE;QACnB,IAAI;YACF,IAAI,CAAC,EAAE,GAAG,IAAI,UAAU;YAExB,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG;gBACf,QAAQ,GAAG,CAAC;gBACZ,IAAI,CAAC,iBAAiB,GAAG;YAC3B;YAEA,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,CAAC;gBACnB,MAAM,OAAO,KAAK,KAAK,CAAC,MAAM,IAAI;gBAClC,IAAI,CAAC,iBAAiB,CAAC,KAAK,IAAI,EAAE,KAAK,OAAO;YAChD;YAEA,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC;gBACjB,QAAQ,KAAK,CAAC,yBAAyB;YACzC;YAEA,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG;gBAChB,IAAI,CAAC,gBAAgB,CAAC;YACxB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qCAAqC;QACrD;IACF;IAEQ,iBAAiB,GAAW,EAAE;QACpC,IAAI,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,oBAAoB,EAAE;YACtD,IAAI,CAAC,iBAAiB;YACtB,QAAQ,GAAG,CAAC,CAAC,8BAA8B,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;YACnG,WAAW,IAAM,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,cAAc;QACzD;IACF;IAEA,UAAU,SAAiB,EAAE,QAAkB,EAAE;QAC/C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY;YACpC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,IAAI;QACtC;QACA,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,WAAY,GAAG,CAAC;QAErC,OAAO;YACL,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,OAAO;QAC1C;IACF;IAEQ,kBAAkB,SAAiB,EAAE,OAAY,EAAE;QACzD,MAAM,YAAY,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;QACvC,IAAI,WAAW;YACb,UAAU,OAAO,CAAC,CAAC,WAAa,SAAS;QAC3C;IACF;IAEA,KAAK,IAAS,EAAE;QACd,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,KAAK,UAAU,IAAI,EAAE;YACpD,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC;QAC9B;IACF;IAEA,aAAa;QACX,IAAI,IAAI,CAAC,EAAE,EAAE;YACX,IAAI,CAAC,EAAE,CAAC,KAAK;YACb,IAAI,CAAC,EAAE,GAAG;QACZ;IACF;AACF;AAEO,MAAM,YAAY,IAAI","debugId":null}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/hooks/use-websocket.ts"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport { wsManager } from \"@/lib/websocket-manager\"\n\nexport function useWebSocket(eventType: string, onData: (data: any) => void) {\n  const [connected, setConnected] = useState(false)\n\n  useEffect(() => {\n    const checkConnection = () => {\n      setConnected(true)\n    }\n\n    const unsubscribe = wsManager.subscribe(eventType, (data) => {\n      onData(data)\n      checkConnection()\n    })\n\n    // Simulate WebSocket connection for demo\n    setConnected(true)\n\n    return () => {\n      unsubscribe()\n    }\n  }, [eventType, onData])\n\n  return { connected }\n}\n\nexport function useBroadcastWebSocket() {\n  const send = useCallback((event: string, data: any) => {\n    wsManager.send({\n      type: event,\n      payload: data,\n    })\n  }, [])\n\n  return { send }\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;AAKO,SAAS,aAAa,SAAiB,EAAE,MAA2B;IACzE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,MAAM,kBAAkB;YACtB,aAAa;QACf;QAEA,MAAM,cAAc,wIAAS,CAAC,SAAS,CAAC,WAAW,CAAC;YAClD,OAAO;YACP;QACF;QAEA,yCAAyC;QACzC,aAAa;QAEb,OAAO;YACL;QACF;IACF,GAAG;QAAC;QAAW;KAAO;IAEtB,OAAO;QAAE;IAAU;AACrB;AAEO,SAAS;IACd,MAAM,OAAO,IAAA,oNAAW,EAAC,CAAC,OAAe;QACvC,wIAAS,CAAC,IAAI,CAAC;YACb,MAAM;YACN,SAAS;QACX;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;IAAK;AAChB","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/components/device-status-monitor.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\n\ninterface DeviceMetric {\n  label: string\n  value: string | number\n  unit?: string\n  status?: \"normal\" | \"warning\" | \"critical\"\n  icon?: React.ReactNode\n}\n\ninterface DeviceStatusMonitorProps {\n  deviceId: string\n  driverId: string\n  metrics: DeviceMetric[]\n  lastUpdate: number\n}\n\nexport function DeviceStatusMonitor({ deviceId, driverId, metrics, lastUpdate }: DeviceStatusMonitorProps) {\n  const isStale = Date.now() - lastUpdate > 10000\n\n  const healthScore =\n    metrics.length > 0\n      ? ((metrics.filter((m) => m.status === \"normal\").length / metrics.length) * 100).toFixed(0)\n      : \"N/A\"\n\n  const getStatusColor = (status?: string) => {\n    switch (status) {\n      case \"critical\":\n        return \"bg-destructive/20 text-destructive border-destructive\"\n      case \"warning\":\n        return \"bg-yellow-500/20 text-yellow-700 border-yellow-500\"\n      default:\n        return \"bg-green-500/20 text-green-700 border-green-500\"\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"text-balance\">Device Status</CardTitle>\n            <p className=\"text-xs text-muted-foreground mt-1\">Device: {deviceId}</p>\n            <p className=\"text-xs text-muted-foreground\">Driver: {driverId}</p>\n          </div>\n          <div className=\"text-right\">\n            <div className=\"flex items-center gap-2 justify-end mb-2\">\n              <span className=\"text-2xl font-bold\">{healthScore}%</span>\n              <Badge variant={isStale ? \"destructive\" : \"outline\"}>{isStale ? \"Offline\" : \"Online\"}</Badge>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">Health Score</p>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-3\">\n          {metrics.map((metric, idx) => (\n            <div key={idx} className=\"flex items-center justify-between p-2 bg-muted/50 rounded-lg\">\n              <div className=\"flex items-center gap-2\">\n                {metric.icon && metric.icon}\n                <span className=\"text-sm font-medium\">{metric.label}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <span\n                  className={`font-bold ${metric.status === \"critical\" ? \"text-destructive\" : metric.status === \"warning\" ? \"text-yellow-600\" : \"text-green-600\"}`}\n                >\n                  {metric.value}\n                </span>\n                {metric.unit && <span className=\"text-xs text-muted-foreground\">{metric.unit}</span>}\n              </div>\n            </div>\n          ))}\n          <div className=\"text-xs text-muted-foreground mt-4 pt-3 border-t border-border\">\n            Last update: {new Date(lastUpdate).toLocaleTimeString()}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AALA;;;;AAsBO,SAAS,oBAAoB,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAA4B;IACvG,MAAM,UAAU,KAAK,GAAG,KAAK,aAAa;IAE1C,MAAM,cACJ,QAAQ,MAAM,GAAG,IACb,CAAC,AAAC,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,UAAU,MAAM,GAAG,QAAQ,MAAM,GAAI,GAAG,EAAE,OAAO,CAAC,KACvF;IAEN,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC,iIAAI;;0BACH,8OAAC,uIAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC,sIAAS;oCAAC,WAAU;8CAAe;;;;;;8CACpC,8OAAC;oCAAE,WAAU;;wCAAqC;wCAAS;;;;;;;8CAC3D,8OAAC;oCAAE,WAAU;;wCAAgC;wCAAS;;;;;;;;;;;;;sCAExD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;;gDAAsB;gDAAY;;;;;;;sDAClD,8OAAC,mIAAK;4CAAC,SAAS,UAAU,gBAAgB;sDAAY,UAAU,YAAY;;;;;;;;;;;;8CAE9E,8OAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;;;;;;;;;;;;0BAInD,8OAAC,wIAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;wBACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,oBACpB,8OAAC;gCAAc,WAAU;;kDACvB,8OAAC;wCAAI,WAAU;;4CACZ,OAAO,IAAI,IAAI,OAAO,IAAI;0DAC3B,8OAAC;gDAAK,WAAU;0DAAuB,OAAO,KAAK;;;;;;;;;;;;kDAErD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,WAAW,CAAC,UAAU,EAAE,OAAO,MAAM,KAAK,aAAa,qBAAqB,OAAO,MAAM,KAAK,YAAY,oBAAoB,kBAAkB;0DAE/I,OAAO,KAAK;;;;;;4CAEd,OAAO,IAAI,kBAAI,8OAAC;gDAAK,WAAU;0DAAiC,OAAO,IAAI;;;;;;;;;;;;;+BAXtE;;;;;sCAeZ,8OAAC;4BAAI,WAAU;;gCAAiE;gCAChE,IAAI,KAAK,YAAY,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;AAMjE","debugId":null}},
    {"offset": {"line": 624, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/components/telemetry-chart.tsx"],"sourcesContent":["\"use client\"\n\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from \"recharts\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\n\ninterface TelemetryChartProps {\n  data: Array<{\n    timestamp: number\n    speed: number\n    temperature: number\n    fuelLevel: number\n    rpms: number\n    acceleration: number\n  }>\n  title: string\n  metrics: string[]\n}\n\nexport function TelemetryChart({ data, title, metrics }: TelemetryChartProps) {\n  const formattedData = data.map((d) => ({\n    ...d,\n    time: new Date(d.timestamp).toLocaleTimeString(),\n  }))\n\n  const colors: Record<string, string> = {\n    speed: \"var(--primary)\",\n    temperature: \"var(--accent)\",\n    fuelLevel: \"var(--secondary)\",\n    rpms: \"#ef4444\",\n    acceleration: \"#8b5cf6\",\n  }\n\n  const stats = metrics.map((metric) => {\n    const values = data.map((d) => d[metric as keyof typeof d] as number)\n    return {\n      metric,\n      avg: (values.reduce((a, b) => a + b, 0) / values.length).toFixed(1),\n      max: Math.max(...values).toFixed(1),\n      min: Math.min(...values).toFixed(1),\n    }\n  })\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-balance\">{title}</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <LineChart data={formattedData} margin={{ top: 5, right: 30, left: 0, bottom: 5 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--border)\" />\n            <XAxis dataKey=\"time\" tick={{ fontSize: 12 }} stroke=\"var(--muted-foreground)\" />\n            <YAxis stroke=\"var(--muted-foreground)\" />\n            <Tooltip\n              contentStyle={{\n                backgroundColor: \"var(--background)\",\n                border: \"1px solid var(--border)\",\n              }}\n            />\n            <Legend />\n            {metrics.map((metric) => (\n              <Line\n                key={metric}\n                type=\"monotone\"\n                dataKey={metric}\n                stroke={colors[metric] || \"var(--primary)\"}\n                dot={false}\n                strokeWidth={2}\n                isAnimationActive={false}\n              />\n            ))}\n          </LineChart>\n        </ResponsiveContainer>\n\n        <div className=\"mt-6 grid grid-cols-3 gap-4\">\n          {stats.map((stat) => (\n            <div key={stat.metric} className=\"p-3 bg-muted/50 rounded-lg\">\n              <p className=\"text-xs font-medium text-muted-foreground capitalize\">{stat.metric}</p>\n              <div className=\"flex gap-3 mt-2 text-sm\">\n                <div>\n                  <span className=\"text-xs text-muted-foreground\">Min:</span>\n                  <p className=\"font-semibold\">{stat.min}</p>\n                </div>\n                <div>\n                  <span className=\"text-xs text-muted-foreground\">Avg:</span>\n                  <p className=\"font-semibold\">{stat.avg}</p>\n                </div>\n                <div>\n                  <span className=\"text-xs text-muted-foreground\">Max:</span>\n                  <p className=\"font-semibold\">{stat.max}</p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAkBO,SAAS,eAAe,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAuB;IAC1E,MAAM,gBAAgB,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;YACrC,GAAG,CAAC;YACJ,MAAM,IAAI,KAAK,EAAE,SAAS,EAAE,kBAAkB;QAChD,CAAC;IAED,MAAM,SAAiC;QACrC,OAAO;QACP,aAAa;QACb,WAAW;QACX,MAAM;QACN,cAAc;IAChB;IAEA,MAAM,QAAQ,QAAQ,GAAG,CAAC,CAAC;QACzB,MAAM,SAAS,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,OAAyB;QAC1D,OAAO;YACL;YACA,KAAK,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,GAAG,KAAK,OAAO,MAAM,EAAE,OAAO,CAAC;YACjE,KAAK,KAAK,GAAG,IAAI,QAAQ,OAAO,CAAC;YACjC,KAAK,KAAK,GAAG,IAAI,QAAQ,OAAO,CAAC;QACnC;IACF;IAEA,qBACE,8OAAC,iIAAI;;0BACH,8OAAC,uIAAU;0BACT,cAAA,8OAAC,sIAAS;oBAAC,WAAU;8BAAgB;;;;;;;;;;;0BAEvC,8OAAC,wIAAW;;kCACV,8OAAC,0LAAmB;wBAAC,OAAM;wBAAO,QAAQ;kCACxC,cAAA,8OAAC,kKAAS;4BAAC,MAAM;4BAAe,QAAQ;gCAAE,KAAK;gCAAG,OAAO;gCAAI,MAAM;gCAAG,QAAQ;4BAAE;;8CAC9E,8OAAC,8KAAa;oCAAC,iBAAgB;oCAAM,QAAO;;;;;;8CAC5C,8OAAC,8JAAK;oCAAC,SAAQ;oCAAO,MAAM;wCAAE,UAAU;oCAAG;oCAAG,QAAO;;;;;;8CACrD,8OAAC,8JAAK;oCAAC,QAAO;;;;;;8CACd,8OAAC,kKAAO;oCACN,cAAc;wCACZ,iBAAiB;wCACjB,QAAQ;oCACV;;;;;;8CAEF,8OAAC,gKAAM;;;;;gCACN,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC,4JAAI;wCAEH,MAAK;wCACL,SAAS;wCACT,QAAQ,MAAM,CAAC,OAAO,IAAI;wCAC1B,KAAK;wCACL,aAAa;wCACb,mBAAmB;uCANd;;;;;;;;;;;;;;;;kCAYb,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;gCAAsB,WAAU;;kDAC/B,8OAAC;wCAAE,WAAU;kDAAwD,KAAK,MAAM;;;;;;kDAChF,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAK,WAAU;kEAAgC;;;;;;kEAChD,8OAAC;wDAAE,WAAU;kEAAiB,KAAK,GAAG;;;;;;;;;;;;0DAExC,8OAAC;;kEACC,8OAAC;wDAAK,WAAU;kEAAgC;;;;;;kEAChD,8OAAC;wDAAE,WAAU;kEAAiB,KAAK,GAAG;;;;;;;;;;;;0DAExC,8OAAC;;kEACC,8OAAC;wDAAK,WAAU;kEAAgC;;;;;;kEAChD,8OAAC;wDAAE,WAAU;kEAAiB,KAAK,GAAG;;;;;;;;;;;;;;;;;;;+BAblC,KAAK,MAAM;;;;;;;;;;;;;;;;;;;;;;AAsBjC","debugId":null}},
    {"offset": {"line": 879, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/components/iot-alerts-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { useActiveAlerts } from \"@/hooks/use-firebase-alerts\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { AlertCircle, AlertTriangle, AlertOctagon } from \"lucide-react\"\n\nexport function IoTAlertsPanel() {\n  const { alerts, loading } = useActiveAlerts()\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle>Active IoT Alerts</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-2\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"h-16 bg-muted rounded animate-pulse\" />\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  const criticalAlerts = alerts.filter((a) => a.severity === \"high\")\n  const warningAlerts = alerts.filter((a) => a.severity === \"medium\")\n\n  const getSeverityIcon = (severity: string) => {\n    switch (severity) {\n      case \"high\":\n        return <AlertOctagon className=\"w-4 h-4\" />\n      case \"medium\":\n        return <AlertTriangle className=\"w-4 h-4\" />\n      default:\n        return <AlertCircle className=\"w-4 h-4\" />\n    }\n  }\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case \"high\":\n        return \"destructive\"\n      case \"medium\":\n        return \"secondary\"\n      default:\n        return \"outline\"\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-4\">\n        <CardTitle>Active IoT Alerts</CardTitle>\n        <Badge variant=\"outline\">\n          {criticalAlerts.length} Critical, {warningAlerts.length} Warning\n        </Badge>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n          {alerts.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">No active alerts. Devices running normally.</div>\n          ) : (\n            alerts.map((alert) => (\n              <div key={alert.id} className=\"p-3 border border-border rounded-lg bg-card hover:bg-accent/50 transition\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"mt-1\">{getSeverityIcon(alert.severity)}</div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium text-sm\">{alert.alertType}</span>\n                      <Badge variant={getSeverityColor(alert.severity) as any}>{alert.severity}</Badge>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mt-1\">{alert.message}</p>\n                    <div className=\"text-xs text-muted-foreground mt-2\">\n                      Device: {alert.deviceId} | Driver: {alert.driverId}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AALA;;;;;;AAOO,SAAS;IACd,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qJAAe;IAE3C,IAAI,SAAS;QACX,qBACE,8OAAC,iIAAI;;8BACH,8OAAC,uIAAU;8BACT,cAAA,8OAAC,sIAAS;kCAAC;;;;;;;;;;;8BAEb,8OAAC,wIAAW;8BACV,cAAA,8OAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACd,8OAAC;gCAAY,WAAU;+BAAb;;;;;;;;;;;;;;;;;;;;;IAMtB;IAEA,MAAM,iBAAiB,OAAO,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;IAC3D,MAAM,gBAAgB,OAAO,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;IAE1D,MAAM,kBAAkB,CAAC;QACvB,OAAQ;YACN,KAAK;gBACH,qBAAO,8OAAC,sOAAY;oBAAC,WAAU;;;;;;YACjC,KAAK;gBACH,qBAAO,8OAAC,yOAAa;oBAAC,WAAU;;;;;;YAClC;gBACE,qBAAO,8OAAC,mOAAW;oBAAC,WAAU;;;;;;QAClC;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC,iIAAI;;0BACH,8OAAC,uIAAU;gBAAC,WAAU;;kCACpB,8OAAC,sIAAS;kCAAC;;;;;;kCACX,8OAAC,mIAAK;wBAAC,SAAQ;;4BACZ,eAAe,MAAM;4BAAC;4BAAY,cAAc,MAAM;4BAAC;;;;;;;;;;;;;0BAG5D,8OAAC,wIAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;8BACZ,OAAO,MAAM,KAAK,kBACjB,8OAAC;wBAAI,WAAU;kCAAyC;;;;;+BAExD,OAAO,GAAG,CAAC,CAAC,sBACV,8OAAC;4BAAmB,WAAU;sCAC5B,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDAAQ,gBAAgB,MAAM,QAAQ;;;;;;kDACrD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAuB,MAAM,SAAS;;;;;;kEACtD,8OAAC,mIAAK;wDAAC,SAAS,iBAAiB,MAAM,QAAQ;kEAAW,MAAM,QAAQ;;;;;;;;;;;;0DAE1E,8OAAC;gDAAE,WAAU;0DAAsC,MAAM,OAAO;;;;;;0DAChE,8OAAC;gDAAI,WAAU;;oDAAqC;oDACzC,MAAM,QAAQ;oDAAC;oDAAY,MAAM,QAAQ;;;;;;;;;;;;;;;;;;;2BAVhD,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;AAqBhC","debugId":null}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/components/stat-card.tsx"],"sourcesContent":["import { Card, CardContent } from \"@/components/ui/card\"\n\nexport function StatCard({ title, value, total, unit, icon }: any) {\n  return (\n    <Card>\n      <CardContent className=\"pt-6\">\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <p className=\"text-sm text-muted-foreground\">{title}</p>\n            <p className=\"text-2xl font-bold mt-1\">\n              {value}\n              {unit && <span className=\"text-lg text-muted-foreground ml-1\">{unit}</span>}\n            </p>\n            {total !== undefined && <p className=\"text-xs text-muted-foreground mt-1\">of {total} total</p>}\n          </div>\n          <div className=\"p-2 bg-primary/10 rounded-lg\">{icon}</div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport function HealthIndicator({ label, status }: { label: string; status: \"healthy\" | \"warning\" | \"critical\" }) {\n  const statusColors = {\n    healthy: \"bg-green-500/20 text-green-700\",\n    warning: \"bg-yellow-500/20 text-yellow-700\",\n    critical: \"bg-destructive/20 text-destructive\",\n  }\n\n  return (\n    <div className=\"flex items-center justify-between p-2 bg-muted/50 rounded-lg\">\n      <span className=\"text-sm font-medium\">{label}</span>\n      <div className={`px-2 py-1 rounded text-xs font-medium ${statusColors[status]}`}>\n        {status.charAt(0).toUpperCase() + status.slice(1)}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;;AAEO,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAO;IAC/D,qBACE,8OAAC,iIAAI;kBACH,cAAA,8OAAC,wIAAW;YAAC,WAAU;sBACrB,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAAiC;;;;;;0CAC9C,8OAAC;gCAAE,WAAU;;oCACV;oCACA,sBAAQ,8OAAC;wCAAK,WAAU;kDAAsC;;;;;;;;;;;;4BAEhE,UAAU,2BAAa,8OAAC;gCAAE,WAAU;;oCAAqC;oCAAI;oCAAM;;;;;;;;;;;;;kCAEtF,8OAAC;wBAAI,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;;;;;AAKzD;AAEO,SAAS,gBAAgB,EAAE,KAAK,EAAE,MAAM,EAAiE;IAC9G,MAAM,eAAe;QACnB,SAAS;QACT,SAAS;QACT,UAAU;IACZ;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAuB;;;;;;0BACvC,8OAAC;gBAAI,WAAW,CAAC,sCAAsC,EAAE,YAAY,CAAC,OAAO,EAAE;0BAC5E,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;;;;;;;;;;;;AAIvD","debugId":null}},
    {"offset": {"line": 1250, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nasim%20Ahmed/Downloads/code%20%285%29/app/dashboard/monitoring/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { useAllDevicesTelemetry } from \"@/hooks/use-real-time-telemetry\"\nimport { useActiveAlerts } from \"@/hooks/use-firebase-alerts\"\nimport { useWebSocket } from \"@/hooks/use-websocket\"\nimport { DeviceStatusMonitor } from \"@/components/device-status-monitor\"\nimport { TelemetryChart } from \"@/components/telemetry-chart\"\nimport { IoTAlertsPanel } from \"@/components/iot-alerts-panel\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { AlertCircle, Zap, Gauge, Thermometer, Droplet } from \"lucide-react\"\nimport { StatCard, HealthIndicator } from \"@/components/stat-card\"\n\nexport default function MonitoringPage() {\n  const { allTelemetry, loading } = useAllDevicesTelemetry()\n  const { alerts } = useActiveAlerts()\n  const [selectedDevice, setSelectedDevice] = useState<string | null>(null)\n  const [telemetryHistory, setTelemetryHistory] = useState<any[]>([])\n  const [wsConnected, setWsConnected] = useState(true)\n\n  const handleTelemetryUpdate = useCallback(\n    (data: any) => {\n      if (data && data.deviceId === selectedDevice) {\n        setTelemetryHistory((prev) =>\n          [\n            ...prev,\n            {\n              timestamp: data.timestamp,\n              speed: data.speed || 0,\n              temperature: data.temperature || 0,\n              fuelLevel: data.fuelLevel || 0,\n              rpms: data.rpms || Math.random() * 5000,\n              acceleration: data.acceleration || (Math.random() - 0.5) * 2,\n            },\n          ].slice(-60),\n        )\n      }\n    },\n    [selectedDevice],\n  )\n\n  useWebSocket(\"telemetry_update\", handleTelemetryUpdate)\n\n  useEffect(() => {\n    if (!selectedDevice || !allTelemetry[selectedDevice]) return\n\n    const current = allTelemetry[selectedDevice]\n    setTelemetryHistory((prev) =>\n      [\n        ...prev,\n        {\n          timestamp: Date.now(),\n          speed: current.speed || 0,\n          temperature: current.temperature || 0,\n          fuelLevel: current.fuelLevel || 0,\n          rpms: Math.random() * 5000,\n          acceleration: (Math.random() - 0.5) * 2,\n        },\n      ].slice(-60),\n    )\n  }, [allTelemetry, selectedDevice])\n\n  const devices = Object.entries(allTelemetry)\n  const activeDevices = devices.filter(([_, data]) => data.status === \"active\").length\n  const criticalAlerts = alerts.filter((a) => a.severity === \"high\").length\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"h-32 bg-muted rounded animate-pulse\" />\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {[1, 2, 3].map((i) => (\n            <div key={i} className=\"h-24 bg-muted rounded animate-pulse\" />\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Real-time Monitoring</h1>\n          <p className=\"text-muted-foreground mt-2\">Live IoT device telemetry and system health</p>\n        </div>\n        <Badge variant={wsConnected ? \"default\" : \"destructive\"}>\n          {wsConnected ? \"WebSocket Connected\" : \"Using Fallback\"}\n        </Badge>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <StatCard\n          title=\"Active Devices\"\n          value={activeDevices}\n          total={devices.length}\n          unit=\"devices\"\n          icon={<Zap className=\"text-primary\" />}\n        />\n        <StatCard\n          title=\"Critical Alerts\"\n          value={criticalAlerts}\n          total={alerts.length}\n          icon={<AlertCircle className=\"text-destructive\" />}\n        />\n        <StatCard\n          title=\"Avg Speed\"\n          value={Math.round(devices.reduce((sum, [, d]) => sum + (d.speed || 0), 0) / devices.length || 0)}\n          unit=\"km/h\"\n          icon={<Gauge className=\"text-accent\" />}\n        />\n        <StatCard\n          title=\"Avg Temp\"\n          value={Math.round(devices.reduce((sum, [, d]) => sum + (d.temperature || 0), 0) / devices.length || 0)}\n          unit=\"°C\"\n          icon={<Thermometer className=\"text-secondary\" />}\n        />\n      </div>\n\n      {/* Main Monitoring Area */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Devices List */}\n        <Card className=\"lg:col-span-1\">\n          <CardHeader>\n            <CardTitle className=\"text-balance\">Connected Devices</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n              {devices.length === 0 ? (\n                <p className=\"text-sm text-muted-foreground text-center py-4\">No devices connected</p>\n              ) : (\n                devices.map(([deviceId, data]) => (\n                  <button\n                    key={deviceId}\n                    onClick={() => setSelectedDevice(deviceId)}\n                    className={`w-full p-3 rounded-lg border transition-colors text-left ${\n                      selectedDevice === deviceId\n                        ? \"bg-primary/10 border-primary\"\n                        : \"bg-muted/50 border-border hover:border-primary/50\"\n                    }`}\n                  >\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <div className=\"min-w-0\">\n                        <p className=\"font-medium text-sm truncate\">{deviceId}</p>\n                        <p className=\"text-xs text-muted-foreground truncate\">Driver: {data.driverId}</p>\n                        <p className=\"text-xs text-muted-foreground mt-1\">Speed: {data.speed} km/h</p>\n                      </div>\n                      <Badge variant={data.status === \"active\" ? \"default\" : \"outline\"} className=\"mt-1\">\n                        {data.status || \"idle\"}\n                      </Badge>\n                    </div>\n                  </button>\n                ))\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Charts and Details */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {selectedDevice && allTelemetry[selectedDevice] ? (\n            <>\n              <DeviceStatusMonitor\n                deviceId={selectedDevice}\n                driverId={allTelemetry[selectedDevice].driverId}\n                metrics={[\n                  {\n                    label: \"Speed\",\n                    value: allTelemetry[selectedDevice].speed,\n                    unit: \"km/h\",\n                    icon: <Gauge size={16} />,\n                    status: allTelemetry[selectedDevice].speed > 100 ? \"warning\" : \"normal\",\n                  },\n                  {\n                    label: \"Temperature\",\n                    value: allTelemetry[selectedDevice].temperature,\n                    unit: \"°C\",\n                    icon: <Thermometer size={16} />,\n                    status: allTelemetry[selectedDevice].temperature > 95 ? \"critical\" : \"normal\",\n                  },\n                  {\n                    label: \"Fuel Level\",\n                    value: allTelemetry[selectedDevice].fuelLevel,\n                    unit: \"%\",\n                    icon: <Droplet size={16} />,\n                    status: allTelemetry[selectedDevice].fuelLevel < 20 ? \"critical\" : \"normal\",\n                  },\n                ]}\n                lastUpdate={allTelemetry[selectedDevice].timestamp}\n              />\n\n              {telemetryHistory.length > 0 && (\n                <TelemetryChart\n                  data={telemetryHistory}\n                  title=\"Telemetry History (Last 60 seconds)\"\n                  metrics={[\"speed\", \"temperature\", \"fuelLevel\"]}\n                />\n              )}\n            </>\n          ) : (\n            <Card className=\"h-96 flex items-center justify-center\">\n              <div className=\"text-center text-muted-foreground\">\n                <p>Select a device to view real-time telemetry</p>\n              </div>\n            </Card>\n          )}\n        </div>\n      </div>\n\n      {/* Alerts Panel */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2\">\n          <IoTAlertsPanel />\n        </div>\n        <Card>\n          <CardHeader>\n            <CardTitle>System Health</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <HealthIndicator label=\"Database\" status=\"healthy\" />\n            <HealthIndicator label=\"WebSocket\" status={wsConnected ? \"healthy\" : \"warning\"} />\n            <HealthIndicator label=\"API Gateway\" status=\"healthy\" />\n            <HealthIndicator label=\"Cache\" status=\"healthy\" />\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}